<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <link rel="stylesheet"  href="/static/styles.css" />
    </head>
    <body>
        
        <!-- <p>
            <label for="name">course code prefix</label>
            <input name="text" class="text_field_course" size="10" value="{{degree}}"> <!--change the length of input fied
        </p> -->

        <form id="url" method="POST" width="30" autocomplete="off">
            
            <p>
                <!--Make sure the form has the autocomplete function switched off:-->
                <!-- <form autocomplete="off"> -->
                <!-- <label for="name">course code prefix</label> -->
                <div class="autocomplete">
                    
                    <input name="degree" id="myInput" type="text" placeholder="Course code e.g. ARTS" value="{{degree}}">
                </div>
                <!-- </form> -->
            </p>

            <!-- autocomplete using js - https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_autocomplete -->
            <!-- js files in flask - https://stackoverflow.com/questions/14711552/external-javascript-file-is-not-getting-added-when-running-on-flask -->
            <!-- cargo cult -->
            <script type="text/javascript"
                src="{{ url_for('static', filename='myautocomplele.js') }}">
            </script>
            <script>
                var auto_course_code = ["ACCT", "ACTL", "AERO", "ANAT", "ANZG", "ARCH", "ARTS", "ASIA", "ATSI", "AUST", "AVEN", "AVIA", 
                                        "AVIF", "AVIG", "BABS", "BEES", "BEIL", "BENV", "BINF", "BIOC", "BIOM", "BIOS", "BIOT", "BLDG", 
                                        "CDEV", "CEIC", "CHEM", "CHEN", "CLIM", "CODE", "COMD", "COMM", "COMP", "CONS", "CRIM", "CRTV", 
                                        "CVEN", "DATA", "DESN", "DIPP", "DPBS", "DPGE", "DPST", "ECON", "EDST", "ELEC", "ENGG", "ENGL", 
                                        "ENVS", "EXCH", "FINS", "FNDN", "FOOD", "GENC", "GENE", "GENL", "GENM", "GENS", "GENY", "GEOL", 
                                        "GEOS", "GMAT", "GSBE", "GSOE", "HDAT", "HESC", "HIST", "HPSC", "HUML", "HUMS", "IDES", "IEST", 
                                        "INFS", "INST", "INTA", "INTD", "JURD", "LAND", "LAWS", "LING", "MANF", "MARK", "MATH", "MATS", 
                                        "MBAX", "MDCN", "MDIA", "MECH", "MFAC", "MFIN", "MGMT", "MICR", "MINE", "MMAN", "MMGT", "MNGT", 
                                        "MNNG", "MODL", "MSCI", "MTRN", "MUPS", "MUSC", "NANO", "NCHR", "NEUR", "OBST", "OPTM", "PAED", 
                                        "PATH", "PHAR", "PHCM", "PHIL", "PHOP", "PHSL", "PHTN", "PHYS", "PLAN", "PLTX", "POLS", "POLY", 
                                        "PPEC", "PSCY", "PSYC", "PTRL", "REGZ", "REST", "RISK", "SCIF", "SENG", "SLSP", "SOCA", "SOCF", 
                                        "SOCW", "SOLA", "SOMS", "SOSS", "SPRC", "SRAP", "STAM", "SURG", "SUSD", "SWCH", "TABL", "TELE", 
                                        "UDES", "VISN", "WOMS", "YENG", "YMED", "ADAD", "DART", "DDES", "SAHT", "SART", "SDES", "SOMA", 
                                        "YCAN", "ZBUS", "ZBUS", "ZEIT", "ZEIT", "ZGEN", "ZHSS", "ZHSS", "ZINT", "ZINT", "ZPEM", "ZPEM"];
                autocomplete(document.getElementById("myInput"), auto_course_code);
            </script>
            <p>
                <label for="name">Year  </label>
                <select class="dropdown" id="yearDropdownSelector" type="text" name="yearDropdown" placeholder="Select A year">
                     <option disabled selected>{{year}}</option>
                     <option id="y2021" value="2021">2021</option>
                     <option id="y2020" value="2020">2020</option>
                     <option id="y2019" value="2019">2019</option>
                     <option id="y2018" value="2018">2018</option>
                </select>
            </p>
            
            <p>
                <label for="name">Term  </label>
                <select class="dropdown" id="termDropdownSelector" type="text" name="termDropdown" placeholder="Select A term">
                     <option disabled selected>{{term}}</option>
                     <option id="U1" value="U1">summer</option>
                     <option id="T1" value="T1">T1</option>
                     <option id="T2" value="T2">T2</option>
                     <option id="T3" value="T3">T3</option>
                     <option id="S1" value="S1">S1</option>
                     <option id="S2" value="S2">S2</option>
                </select>
            </p>
            <p>
                <label for="name">Enrol filter  </label>
                <select class="dropdown" id="percDropdownSelector" type="text" name="percDropdown" placeholder="Select A perc">
                     <option disabled selected>{{perc_num}}</option>
                     <option id="perc" value="perc">percentage</option>
                     <option id="num" value="num">number</option>
                     <option id="lec" value="lec">Lec</option>
                     <option id="campus" value="campus">on_campus</option>
                </select>
            </p>
            <p>
                <label for="name">undergrad/postgrad  </label>
                <select class="dropdown" id="levelDropdownSelector" type="text" name="levelDropdown" placeholder="Select A level">
                     <option disabled selected>{{under_post}}</option>
                     <option id="undergrad" value="undergrad">undergrad</option>
                     <option id="postgrad" value="postgrad">postgrad</option>
                </select>
            </p>
            <p>
                <label for="name">courses done </label>
                <input type = "text" class="text_field_course_done" name = "courses_done" size="30" value="{{courses_done}}" placeholder="e.g 1511, 1521" />
                <p></p>
                <input type="submit">
            </p>
            
        </form>

        <!-- is_undergrad is {{level}} https://stackoverflow.com/questions/50286820/printing-value-next-to-text-box-from-a-function-in-flask-html -->
        <p></p>
        Ignore enrol number when there is Lec number,
        Enrol number used when there is no Lec number (enrolment not yet opened),
        Percentage used for actual enrolment percentage
        <p></p>
        Result for reference only
        <hr>
        
        <p></p>
        <table> 
            <tr class="table_header">
                {% for header in headings %}
                <th class="table_cell"> {{ header }}</th>
                {% endfor %}
            </tr>
            {% for row in data %}
            <tr class="table__row">
                {% for cell in row %}
                <td class="table__cell">{{ cell }}</td>
                {% endfor %}
            </tr>
            {% endfor %}
        </table>
    </body>
</html>